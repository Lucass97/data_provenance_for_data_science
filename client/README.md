# Simple Client

The ***Simple Client*** is a tool designed to facilitate various Neo4j queries to retrieve information related to data provenance generated by the [DPDS](../README.md) tool.

## Provenance Queries

Here is a table summarizing the available provenance queries:

| Id  | Provenance Query                     | Input   | Output                                             |
| --- | ----------------------------------- | ------- | -------------------------------------------------- |
| PQ1 | All Transformations                 | $𝐷$       | Set of operations applied to $𝐷$ and the features they affect. |
| PQ2 | Why-provenance                       | $𝑑_{𝑖\bold{a}}$    | The input data that influenced $𝑑_{𝑖\bold{a}}$.            |
| PQ3 | How-provenance                       | $𝑑_{𝑖\bold{a}}$     | The input data and the operations that created $𝑑_{𝑖\bold{a}}$. |
| PQ4 | Dataset-level Feature Operation     | $𝐷 _{∗\bold{a}}$    | Set of operations that were applied to feature $\bold{a}$. |
| PQ5 | Record Operation                     | $𝐷_{𝑖∗}$    | Set of operations that were applied to record $𝐷_{𝑖∗}$. |
| PQ6 | Item-level Feature Operation         | $𝑑_{𝑖\bold{a}}$     | Set of operations that were applied to $𝑑_{𝑖\bold{a}}$.     |
| PQ7 | Feature Invalidation                 | $𝐷, \bold{a}$    | The operation that deleted the feature $\bold{a}$.        |
| PQ8 | Record Invalidation                  | $𝐷, 𝑖$    | The operation that deleted the record $𝐷_{𝑖∗}$.    |
| PQ9 | Item Invalidation                    | $𝐷, 𝑖, \bold{a}$  | The operation that deleted the item $𝑑_{𝑖\bold{a}}$.      |
| PQ10 | Item History                        | $𝑑_{𝑖\bold{a}}$     | All the elements derived and that will derive from $𝑑_{𝑖\bold{a}}$. |
| PQ11 | Record History                      | $𝐷_{𝑖∗}$    | All the elements derived and that will derive from $𝐷_{𝑖∗}$. |
| PQ12 | Impact on Feature Spread            | $𝐷, \bold{a}$    | The change in feature spread of all operations over a feature of $𝐷$. |
| PQ13 | Impact on Dataset Spread            | $𝐷$       | The change in dataset spread of all operations applied to $𝐷$. |

## Usage

You can execute the ***Simple Client*** with different commands to perform specific queries. Below is an example of how to run the program for a specific command:

```bash
python main.py 
    --uri <URI>
    --user <USER>
    --pwd <PWD>
    <COMMAND>
```

> Before running the script, make sure you have properly configured the Python environment by following the instructions described in the [installation](../README.md#installation) section.

### Command Line Arguments

The following command line arguments are available for the ***Simple Client***:

- `<URI>`: The URI of the Neo4j server (default: `bolt://localhost`).
- `<USER>`: The username to access Neo4j (default: `neo4j`).
- `<PWD>`: The password to access Neo4j (default: `adminadmin`).
- `<COMMAND>`: One of the available commands:

  - `all-transformations`
  - `why-provenance`
  - `how-provenance`
  - `dataset-level-feature-operation`
  - `record-operation`
  - `record-invalidation`
  - `item-invalidation`
  - `item-level-feature-operation`
  - `item-history`
  - `record-history`
  - `feature-invalidation`