#  Query Tester

The ***Query Tester*** is a tool designed to facilitate the testing of various Neo4j queries to retrieve the provenance generated by the [DPDS](../README.md) tool.

## Usage
You can run the ***Query Tester*** with different commands to test specific queries. Here is an example of how to run the program for a specific command:

```bash
python3 query_tester.py 
        --uri <URI>
        --user <USER>
        --pwd <PWD>
        --limit <LIMIT>
        <COMMAND>
```

> Before running the script, make sure you have properly configured the Python environment by following the instructions described in the [installation](../README.md#installation) section.

### Command Line Arguments
The following command line arguments are available for the ***Query Tester***:

- `<URI>` is the URI of the Neo4j server.
- `<USER>` is the username to access Neo4j.
- `<PWD>` is the password to access Neo4j.
- `<LIMIT>` is the limit for random entity selection.
- `<COMMAND>` is one of the following available commands:
  - `all-transformations`
  - `why-provenance`
  - `how-provenance`
  - `dataset-level-feature-operation`
  - `record-operation`
  - `record-invalidation`
  - `item-invalidation`
  - `item-level-feature-operation`
  - `item-history`
  - `record-history`
  - `feature-invalidation`

## Test All Queries Script

The [`test-all-queries.sh`](run-all-queries.sh`) script provided automates the execution of multiple query commands one by one. It allows you to run all available queries in a batch and simplifies the testing process.

To use the [`test-all-queries.sh`](run-all-queries.sh`)  script, follow these steps:

1. Open a terminal and navigate to the project directory.

2. Ensure that you have set up the required dependencies and the virtual environment, as described in the [installation](../README.md#installation) instructions.

3. Before running the script, make sure to grant execute permission:
      ```sh
      chmod +x run_all_queries.sh
      ```

4. Execute the script to run all queries sequentially:
    ```sh
    ./run_all_queries.sh
    ```

The script will iterate through each query command, executing them in sequence. It uses the default configuration values specified in the script. If you need to customize the configuration for your environment, you can modify the script accordingly.

Default Configuration Values:
- `URI`: `bolt://localhost`
- `USER`: `neo4j`
- `PWD`: `adminadmin`
- `LIMIT`: `3`

You can adjust these default values in the script to match your specific setup and requirements.